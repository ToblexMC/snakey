<!doctype html>
<body>
    <canvas id="gameCanvas" width="900" height="900"></canvas>
    <script>
        var canvas, canvasContext;

        window.onload = function() {
            canvas = document.getElementById('gameCanvas');
            canvasContext = canvas.getContext('2d');

            document.addEventListener('keydown', keyPressed);
            document.addEventListener('keyup', keyReleased);

            setInterval(mainloop, 1000 / 60);
        }

        var wormsize = 20; 
        var wormXpos = 450;
        var wormYpos = 450; 

        var leftKeyPressed = false;
        var rightKeyPressed = false;
        var upKeyPressed = false;
        var downKeyPressed = false;

        const left = 37;
        const right = 39;
        const up = 38;
        const down = 40;
        var totalYummy = 8;

        var yummySize = 15;
        var yummyXpos = 15;
        var yummyYpos = 50;

        function mainloop() {
            colorRect(0,0,canvas.width,canvas.height,'black'); // background color
            colorRect(wormXpos,wormYpos,wormsize,wormsize,'red'); //bloby
            colorRect(yummyXpos,yummyYpos,yummySize,yummySize,'green');

            move();
            yummyRandomPos();
        }

        function keyPressed(evt){
            if(evt.keyCode == left){
                leftKeyPressed = true;
            }
            if(evt.keyCode == right){
                rightKeyPressed = true;
            }
            if(evt.keyCode == up){
                upKeyPressed = true;
            }
            if(evt.keyCode == down){
                downKeyPressed = true;
            }
        }

        function move(){
            if(leftKeyPressed == true){
                wormXpos = wormXpos - 10;
            }
            if(rightKeyPressed == true){
                wormXpos = wormXpos + 10;
            }
            if(upKeyPressed == true){
                wormYpos = wormYpos - 10;
            }
            if(downKeyPressed == true){
                wormYpos = wormYpos + 10;
            }
        }

        function keyReleased(evt) {
            if(evt.keyCode == left){
                leftKeyPressed = false;
            }
            if(evt.keyCode == right){
                rightKeyPressed = false;
            }
            if(evt.keyCode == up){
                upKeyPressed = false;
            }
            if(evt.keyCode == down){
                downKeyPressed = false;
            }
        }

        function yummyRandomPos(){
           yummyXpos = Math.floor(Math.random()*(900 - yummySize));
           yummyYpos = Math.floor(Math.random()*(900 - yummySize));
           
        }

        function colorRect(x,y,w,h,c){
            canvasContext.fillStyle = c;
            canvasContext.fillRect(x,y,w,h);
        }
 
    </script>
</body>
